<%# 
  Layout base para dashboards
  ParÃ¡metros:
  - title: tÃ­tulo de la pÃ¡gina
  - user: objeto del usuario
  - role: rol del usuario
  - stats: estadÃ­sticas del dashboard
  - content: contenido especÃ­fico del dashboard
%>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title || 'Dashboard' %> - Sistema AcadÃ©mico</title>
    <link rel="stylesheet" href="/css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            ðŸŽ“ Sistema AcadÃ©mico
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Buscar...">
        </div>
        <div class="header-right">
            <%- include('../components/user-info', { 
                user: user, 
                showRole: true, 
                showAvatar: true 
            }) %>
            <a href="/auth/logout" class="logout-btn">Cerrar SesiÃ³n</a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="page-header">
            <h1 class="page-title"><%= title || 'Dashboard' %></h1>
            <div class="role-badge"><%= role || user.rol_nombre %></div>
        </div>

        <!-- Stats Grid -->
        <% if (stats && Object.keys(stats).length > 0) { %>
            <div class="stats-grid">
                <% Object.entries(stats).forEach(([key, stat]) => { %>
                    <%- include('../components/stats-widget', {
                        number: stat.value || stat,
                        label: stat.label || key,
                        icon: stat.icon,
                        color: stat.color
                    }) %>
                <% }) %>
            </div>
        <% } %>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <%- content %>
        </div>
    </div>
</body>
</html>